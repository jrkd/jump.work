Athlete Search
----------------
## Setup
0. Windows 10/Windows Server 2016 OS
1. Install .NET Framework 4.6.2 (https://www.microsoft.com/en-us/download/details.aspx?id=53344)
2. MS SQL Server 2016 Express (https://www.microsoft.com/en-gb/sql-server/sql-server-editions-express)
    - Setup a SQL Server without a name
    - Set sa password to password
3. Web server can be either:  
    A. Install Visual Studio 2017 Community w/ IISExpress (packaged) https://www.visualstudio.com/downloads/
        - Compile projects
        - Open Package Manager window
            - Change *Default Project* drop down from `MVC Front End` to `Model`
            - run `update-database` command
            - Should output migrations & "running seed method"
    B. Install IIS 10 
        - Windows 10: *Turn windows features on/off* dialog, see http://www.c-sharpcorner.com/UploadFile/746cd9/configure-iis-in-windows-10-operating-system/ 
        - See https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-8/installing-iis-8-on-windows-server-2012 if your on windows server

I'd recommend installing VS with IISExpress, since setting up IIS 10 can be finicky. 

## Requirements

#### A description of the data store (such as a schema, or diagram), with examples if necessary

See `/data/DATABASE_DATA.sql` and `/data/DATABASE_SCHEMA.sql`

Also, the database is generated by the MS Entity Framework, so these tables are generated directly from classes referenced as properties in `/Model/JumpDBContext.cs` (Person.cs, Skill.cs, etc) and SQL scripts in `/Model/SQL/`

#### Code for the search
See `Search/SearchHelper.cs:searchForPeople method`

NB: Best viewed in the /MVC Front End project 

#### Dump of sample data in a way that we can easily load and test
If there's no database, the database generation will include a Seed method, which is currently setup to create 10k people with linked skills and competitions.
- Also provided a dump of the test data last generated in /data/DATABASE_DATA.sql

#### We should be able to invoke the search with different parameters, by some reasonable means - a command-line interface, a library, or even just a function. You are not expected to provide a graphical user interface - though you can :)

No cmd args, but there is a ASP.NET MVC frontend :) 

I started with a console project and have left it in if you want to test the search directly. 

#### Explanation of design decisions and trade-offs you've made.

##### Generated DB:
I used the Entity Framework DB generation for development speed and SQL effacacy 

##### Domain of data:
I left the idea of age ranges outside the Model/DB and search library, as they felt like a very specific front-end structure. They reside as a static list of min/max + label in the `MVC Front End/SearchController` class. 

##### Data structure:
Skills as a Tree

I created a Tree structure representing Skills - a M2M relationship between child & parent as the requirements made it clear supersets & subsets were important to handle correctly. The M2M rather than 1 Parent -> Many child relationship is done with the idea that in a real world scenario the users defining skills would likely need to have something like "snowboarding" as a child of both "snow sports" and "board sports". 

Skills as a Tree: trade offs

- performance: my testing only used 80~ skills and 10k people, the GetSubSkills Stored procedure I used will be slower in large data environments, especially compared to a simple SkillParent -> SkillChild implementation.
- maintainability: Creating the Stored procedure & the TVP it uses create a separate problem domain for anyone coming into the code at a later date. Someone who didnt know any SQL would have problems. Additionally, while the C# code is commented clearly, the complexity of the operation would be harder to approach. 

Competitions

Created the competitions with a separate name and year, but did not try and structure further. This is because I imagine the number of different styles and types of competition are huge and structurely not relevant for searching outside of a string like filter. 

##### MVC:
Compromise in request Data Binding 

Use of the tagsinput jquery plugin forced the definition of what would usually be a MultiList (a control that correctly binds a multi-select into the Controller) needed to be a comma-deliminated string. This added clarity in the UI but cost additional parsing in the controller, and assosiated bugs.


#### You may use the programming language and any frameworks and libraries of your preference, but please be explicit about the tools you used

See the top of this document for setup. 

Complete list of dependancies used to build the project: 
##### Backend:
- MS Entity Framework 6.1.3 (https://msdn.microsoft.com/en-us/library/aa937723(v=vs.113).aspx)
- MS SQL 2016 Express (https://www.microsoft.com/en-gb/sql-server/sql-server-editions-express)
- ASP.NET MVC 5 framework (https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/introduction/getting-started)
- C#
- .NET Framework (v4.6.2) https://www.microsoft.com/en-us/download/details.aspx?id=53344
- IIS Web server (https://www.visualstudio.com/downloads/)

##### Frontend: 
- boostrap (http://getbootstrap.com/)
- boostrap tagsinput (https://bootstrap-tagsinput.github.io/bootstrap-tagsinput/examples/)
- typeahead (https://twitter.github.io/typeahead.js/examples/)
- jQuery (https://jquery.com/)
- DataTables - jquery plugin (https://datatables.net/)
